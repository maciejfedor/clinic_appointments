<div class="flex flex-wrap -mx-3 mb-6">
  <div class="w-full px-3 mb-6 md:mb-0">
  <%= render ErrorComponent.new(resource: @appointment)%>
    <%= render HeaderComponent.new(title: "New appointment for #{@patient.name}") %>
    <div class="w-full max-w-lg">
      <%= form_with(url: patient_appointments_path(@patient), local: true, data: {
          controller: "flatpickr"
      }) do |f| %>

        <div data-controller="toggle">
          <div class="form-group">
          <%= f.label :doctor, class: "form-label", style: "display: block" %>
          <%= f.collection_select :doctor_id, Doctor.all, :id, :name, { prompt: true },
                                   { data: { toggle_target: 'input1', action: "change->toggle#show", class: "mt-1" } } %>
                                   </div>
          <div class="form-group">
          <%= f.label :date, class: "form-label", style: "display: block" %>
          <%= f.datetime_field :date, class: "form-text-input start_time",
                               data: { toggle_target: 'input2', action: "change->toggle#show", class: "mt-1" } %>
                                </div>
          <div data-toggle-target="output">
          <div class="form-group">
            <%= f.label :slot, class: "form-label", style: "display: block" %>
            <%= f.select :slot, options_for_select([]), {}, class: "mt-1",
                         data: { toggle_target: "select",  } %>
                         </div>
            <div> 
            <div class="form-group">
            <%= f.label :price, class: "form-label", style: "display: block" %>
            <%= f.number_field :price%>
            </div>
            </div>
            <div>
             <%= f.submit %>
            </div>
          </div>
        </div>
        <div>
        </div>
      <% end %>
    </div>
  </div>
</div>
